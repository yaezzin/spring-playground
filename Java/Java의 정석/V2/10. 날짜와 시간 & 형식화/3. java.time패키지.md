## java.time íŒ¨í‚¤ì§€

Javaì˜ íƒ„ìƒê³¼ í•¨ê»˜í•œ Dateì™€ Calendarì˜ ë‹¨ì ì„ í•´ì†Œí•˜ê¸° ìœ„í•´ JDK 1.8ë¶€í„° java.time íŒ¨í‚¤ì§€ê°€ ì¶”ê°€

* ```java.time``` - ë‚ ì§œì™€ ì‹œê°„ì„ ë‹¤ë£¨ëŠ”ë° í•„ìš”í•œ í•µì‹¬ í´ë˜ìŠ¤ë“¤ ì œê³µ
* ```java.time.chrono``` - í‘œì¤€(ISO)ì´ ì•„ë‹Œ ë‹¬ë ¥ ì‹œìŠ¤í…œì„ ìœ„í•œ í´ë˜ìŠ¤ë“¤ ì œê³µ
* ```java.time.format``` - ë‚ ì§œì™€ ì‹œê°„ì„ íŒŒì‹±, í˜•ì‹í™”í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ë“¤ ì œê³µ
* ```java.time.temporal``` - ë‚ ì§œì™€ ì‹œê°„ì˜ í•„ë“œì™€ ë‹¨ìœ„(unit)ì„ ìœ„í•œ í´ë˜ìŠ¤ë“¤ ì œê³µ
* ```java.time.zone``` - ì‹œê°„ëŒ€(time-zone)ì™€ ê´€ë ¨ëœ í´ë˜ìŠ¤ë“¤ ì œê³µ

ìœ„ íŒ¨í‚¤ì§€ì˜ í´ë˜ìŠ¤ë“¤ì€ String í´ë˜ìŠ¤ì²˜ëŸ¼ ```ë¶ˆë³€(Immutable)```
* ì¦‰, ë‚ ì§œë‚˜ ì‹œê°„ì„ ë³€ê²½í•˜ë©´ ê¸°ì¡´ì˜ ê°ì²´ê°€ ë³€ê²½ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë°˜í™˜
* (ê¸°ì¡´ì˜ Calendar í´ë˜ìŠ¤ëŠ” ë³€ê²½ê°€ëŠ¥ í•˜ë¯€ë¡œ ë©€í‹°ì“°ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì „í•˜ì§€ ì•Šì•˜ìŒ)

## java.timeíŒ¨í‚¤ì§€ì˜ í•µì‹¬ í´ë˜ìŠ¤

java.time íŒ¨í‚¤ì§€ì—ëŠ” ë‚ ì§œì™€ ì‹œê°„ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•´ ë†“ì•˜ìŒ  
* ì‹œê°„ì„ í‘œí˜„í•  ë•ŒëŠ” ```LocalTime``` í´ë˜ìŠ¤ë¥¼, ```LocalDate``` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©  
* ë‚ ì§œì™€ ì‹œê°„ ëª¨ë‘ í•„ìš”í• ë•ŒëŠ” ```LocalDateTime``` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©
* ì‹œê°„ëŒ€(time-zone)ê¹Œì§€ í‘œí˜„í•˜ë ¤ë©´ ```ZonedDateTime```ì‚¬ìš©

### íƒ€ì„ìŠ¤íƒ¬í”„(time-stamp)

ë‚ ì§œì™€ ì‹œê°„ì„ ì´ˆë‹¨ìœ„ë¡œ í‘œí˜„í•œ ê°’.
ì´ ê°’ì€ ë‚ ì§œì™€ ì‹œê°„ì„ í•˜ë‚˜ì˜ ì •ìˆ˜ë¡œ í‘œí˜„í•  ìˆ˜ ìˆì–´ì„œ ë‚ ì§œì™€ ì‹œê°„ì˜ ì°¨ì´ë¥¼ ê³„ì‚°í•˜ê±°ë‚˜ ìˆœì„œë¥¼ ë¹„êµí•˜ëŠ”ë° ìœ ë¦¬í•˜ë‹¤. (ê·¸ë˜ì„œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë§ì´ ì‚¬ìš©)

### ê°ì²´ ìƒì„±í•˜ê¸° - now(), of()

```now()```ëŠ” í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ ì €ì¥í•˜ëŠ” ê°ì²´ë¥¼ ìƒì„±
```java
LocalDate date = LocalDate.now();
LocalTime time = LocalTime.now();
```

```of()```ëŠ” í•´ë‹¹ í•„ë“œì˜ ê°’ì„ ìˆœì„œëŒ€ë¡œ ì§€ì •í•´ì£¼ë©´ ê°ì²´ë¥¼ ìƒì„±
```java
LocalDate date = LocalDate.of(2022, 04, 06); 
LocalTime time = LocalTime.of(23, 59, 59); // 23ì‹œ 59ë¶„ 59ì´ˆ
```

## LocalDateì™€ LocalTime

### ğŸ¤– íŠ¹ì • í•„ë“œì˜ ê°’ ê°€ì ¸ì˜¤ê¸° - get(), getXXX()

#### ğŸ“Œ ë§¤ì„œë“œ ëª©ë¡
![image](https://user-images.githubusercontent.com/97823928/161956393-35516d5e-02fd-4e93-8e80-136e3150c088.png)

#### ğŸ“Œ ë§¤ê°œë³€ìˆ˜ ëª©ë¡
<img width="500" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-04-06 á„‹á…©á„’á…® 7 37 42" src="https://user-images.githubusercontent.com/97823928/161956759-e6e2f06e-1e42-412e-aa11-2780cf2d42e4.png">

### ğŸ¤– í•„ë“œì˜ ê°’ ë³€ê²½í•˜ê¸° - with(), plus(), minus()

ë‚ ì§œì™€ ì‹œê°„ì—ì„œ íŠ¹ì • í•„ë“œê°’ì„ ë³€ê²½í•˜ë ¤ë©´ withë¡œ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì!

#### ì¢…ë¥˜

```java
LocalDate withYear(int year)  
LocalDate withMonth(int month)  
LocalDate withDayOfMonth(int dayOfMonth)  
LocalDate withDayOfYear(int dayOfYear)  

LocalTime withHour(int hour)  
LocalTime withMinute(int minute)  
LocalTime withSecond(int second)  
LocalTime withNano(int nanoOfSecond)
```

#### ìƒˆë¡œìš´ ê°ì²´ ìƒì„±
```java
date = date.withYear(2022); // ë…„ë„ë¥¼ 2022ë…„ìœ¼ë¡œ ë³€ê²½
time = time.withHour(12); // ì‹œê°„ì„ 12ì‹œë¡œ ë³€ê²½
```

* í•„ë“œë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì†Œë“œë“¤ì€ í•­ìƒ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•˜ë¯€ë¡œ ëŒ€ì…ì—°ì‚°ìë¥¼ ê°™ì´ ì‚¬ìš©

#### í•„ë“œë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ê¸°

```java
LocalTime time = LocalTime.of(12, 34, 56); // 12ì‹œ 34ë¶„ 56ì´ˆ
time = time.truncatedTo(ChronoUnit.HOURS); // ì‹œ(hour)ë³´ë‹¤ ì‘ì€ ë‹¨ìœ„ë¥¼ 0
System.out.println(time); // 12:00
```
* LocalTimeì˜ ```truncatedTo()```ëŠ” ì§€ì •ëœ ê²ƒë³´ë‹¤ ì‘ì€ ë‹¨ìœ„ì˜ í•„ë“œë¥¼ 0ìœ¼ë¡œ ë§Œë“¦

### ğŸ¤– ë‚ ì§œì™€ ì‹œê°„ì˜ ë¹„êµ - isAfter(), isBefore(), isEquals()

LocalDate, LocalTime ëª¨ë‘ compareTo()ê°€ ì ì ˆíˆ ì˜¤ë²„ë¼ì´ë”© ë˜ì–´ìˆì–´ì„œ ë¹„êµë¥¼ í•  ìˆ˜ ìˆìŒ

```java
int result = date1.compareTo(date2);
// ê°™ìœ¼ë©´ 0, date1ì´ ì´ì „ì´ë©´ -1, ì´í›„ë©´ 1
```

í•˜ì§€ë§Œ ë” í¸ë¦¬í•˜ê²Œ ë¹„êµí•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œë“¤ì´ ì¶”ê°€ë¡œ ì œê³µë¨

```java
boolean isAfter (ChronoLocalDate other)
boolean isBefore (ChronoLocalDate other)
boolean isEqual (ChronoLocalDate other)
```

equals()ê°€ ìˆìŒì—ë„ isEquals()ë¥¼ ì¶”ê°€ë¡œ ì œê³µí•˜ëŠ” ì´ìœ ëŠ” ```ì—°í‘œ```ê°€ ë‹¤ë¥¸ ë‘ ë‚ ì§œë¥¼ ë¹„êµí•˜ê¸° ìœ„í•´ì„œì„!
* ëª¨ë“  í•„ë“œê°€ ì¼ì¹˜í•´ì•¼í•˜ëŠ” equalsì™€ ë‹¬ë¦¬ isEquals()ëŠ” ì˜¤ì§ ë‚ ì§œë§Œ ë¹„êµ!
```java
LocalDate kDate = LocalDate.of(1999, 12, 31);
JapaneseDate jDate = JapaneseDate.of(1999, 12, 31);

System.out.println(kDate.equals(jDate));	//false ì—°ëŒ€ê°€ ë‹¤ë¦„
System.out.println(kDate.isEqual(jDate));	//true
```

## LocalDateTimeê³¼ ZonedDateTime

### LocalDateì™€ LocalTimeìœ¼ë¡œ LocalDateTime ë§Œë“¤ê¸°
LocalDateTimeì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ë°©ë²•
```java
LocalDate date = LocalDate.of(2018, 10, 05);
LocalTime time = LocalTime.of(12,34,56);

LocalDateTime dt = LocalDateTime.of(date, time);
LocalDateTime dt2 = date.atTime(time);
LocalDateTime dt3 = time.atDate(date);
LocalDateTime dt4 = date.atTime(12, 34 ,56);
LocalDateTime dt5 = time.atDate(LocalDate.of(2018, 10, 05));
LocalDateTime dt6 = date.atStartOfDay(); // = date.atTime(0,0,0);

LocalDateTime dateTime = LocalDateTime.of(2018, 10, 05, 12, 34, 56);
LocalDateTime today = LocalDateTime.now();
```

### LocalDateTimeì˜ ë³€í™˜
ë°˜ëŒ€ë¡œ LocalDateTimeì„ LocalTime, LocalDateìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŒ

```java
LocalDateTime dt = LocalDateTime.of(2018, 10, 05, 12, 34, 56);
LocalDate date = dt.toLocalDate();
LocalTime time = dt.toLocalTime();
```

### LocalDateTimeìœ¼ë¡œ ZonedDateTime ë§Œë“¤ê¸°

```java
ZoneId zid = ZoneId.of("Asia/Seoul");
ZonedDateTime zdt = dateTime.atZone(zid);
```

* LocalDateTimeì— ì‹œê°„ëŒ€(time-zone)ì„ ì¶”ê°€í•˜ë©´ ZonedDateTime
* ZoneIdëŠ” ì¼ê´‘ ì ˆì•½ì‹œê°„(DST, Daylight Saving Time)ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤.
* LocalDateTimeì— atZone()ìœ¼ë¡œ ì‹œê°„ëŒ€ ì •ë³´ë¥¼ ì¶”ê°€í•˜ë©´, ZonedDateTimeì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

#### íŠ¹ì • ì¥ì†Œì˜ ì‹œê°„ëŒ€ë¥¼ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë²•

```java
ZoneId nyId = ZoneId.of("America/New_York");
ZonedDateTime nyTime = ZonedDateTime.now().withZoneSameInstant(nyId);
```

### ZoneOffset

UTCë¡œë¶€í„° ì–¼ë§ˆë§Œí¼ ë–¨ì–´ì ¸ ìˆëŠ”ì§€ ZoneOffSetìœ¼ë¡œ í‘œí˜„

```java
ZoneOffset krOffset = ZonedDateTime.now().getOffset();
int krOffsetInSec = krOffset.get(ChronoField.OFFSET_SECONDS); // 32400ì´ˆ(60*60*9ì´ˆ)
```

### OffsetDateTime
OffsetDateTimeì€ ZoneIdê°€ ì•„ë‹Œ ```ZoneOffset```ì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì—­ì„ í‘œí˜„í•¨
* ZoneIdëŠ” ì¼ê´‘ì ˆì•½ì‹œê°„ ì²˜ëŸ¼ íƒ€ì„ì¡´ê³¼ ê´€ë ¨ëœ ê·œì¹™ë“¤ì„ í¬í•¨í•˜ë‚˜ ZoneOffsetì€ ë‹¨ì§€ ì‹œê°„ëŒ€ë¥¼ ì‹œê°„ì˜ ì°¨ì´ë¡œë§Œ êµ¬ë¶„
* ê°™ì€ ì§€ì—­ ë‚´ì˜ ì»´í“¨í„°ê°„ì— ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ë•Œ, ì „ì†¡ì‹œê°„ì„ í‘œí˜„í•˜ê¸°ì— LocalDateTimeì´ë©´ ì¶©ë¶„
* í•˜ì§€ë§Œ ì„œë¡œ ë‹¤ë¥¸ ì‹œê°„ëŒ€ì— ì¡´ì¬í•˜ëŠ” ì»´í“¨í„°ê°„ì˜ í†µì‹ ì—ëŠ” offsetDateTimeì´ í•„ìš”

```java
ZonedDateTime zdt = ZondedDateTime.of(date, time, zid);
OffsetDateTime odt = OffsetDateTime.of(date, time, krOffset);

//ZonedDateTime -> OffsetDateTime
OffsetDateTime odt = zdt.toOffsetDateTime();
```

### ZonedDateTimeì˜ ë³€í™˜

ZoneDateTimeë„ ë‚ ì§œì™€ ì‹œê°„ì— ê´€ë ¨ëœ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§

```java
LocalDate toLocalDate()
LocalTime toLocalTime()
LocalDateTime toLocalDateTime()
OffsetDateTime toOffsetDateTime()
long toEpochSecond()
Instant toInstant()
```

ZonedDateTimeì€ GregorianCalendarì™€ ìœ ì‚¬gka

```java
GregorianCalendar from(ZonedDateTime zdt)	//ZonedDateTime -> GregorianCalendar
ZonedDateTime toZonedDateTime()	//GregorianCalendar -> ZonedDateTime
```

## TemporalAdjusters

TemporalAdjustersí´ë˜ìŠ¤ëŠ” ìì£¼ ì“°ì¼ë§Œí•œ ë‚ ì§œ ê³„ì‚°ë“¤ì„ ëŒ€ì‹  í•´ì£¼ëŠ” ë©”ì„œë“œë¥¼ ì •ì˜í•´ë†“ì€ í´ë˜ìŠ¤!

![image](https://user-images.githubusercontent.com/97823928/162011651-8e59b8f6-0eb2-4c39-9971-75d3be89f6c7.png)

```java
LocalDate today = LocalDate.now();
LocalDate nextMonday = today.with(TemporalAdjusters.next(DayOfWeek.MONDAY)) ///ë‹¤ìŒì£¼ ì›”ìš”ì¼ ê³„ì‚°
```

## Periodì™€ Duration

PeriodëŠ” ë‚ ì§œì˜ ì°¨ì´ë¥¼, Durationì€ ì‹œê°„ì˜ ì°¨ì´ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•œ ê²ƒ!

### between()

ë‘ ```ë‚ ì§œ``` d1ê³¼ d2ì˜ ì°¨ì´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” PeriodëŠ” between()ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆìŒ  
ë‘ ```ì‹œê°„``` t1ê³¼ t2ì˜ ì°¨ì´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” Durationë„ ë™ì¼!

```java

// Period
LocalDate date1 = LocalDate.of(2014, 1, 1);
LocalDate date2 = LocalDate.of(2015, 12, 31);

//date1ì´ date2ë³´ë‹¤ ë‚ ì§œ ìƒìœ¼ë¡œ ì´ì „ì´ë©´ ì–‘ìˆ˜, ì´í›„ë©´ ìŒìˆ˜ë¡œ Periodì— ì €ì¥
Period pe = Period.between(date1, date2);

// Duration
LocalTime time1 = LocalTime.of(00,00,00);
LocalTime time2 = LocalTime.of(12,34,56);	//12ì‹œ 34ë¶„ 56ì´ˆ

Duration du = Duration.between(time1, time2);
```

Period, Durationì—ì„œ íŠ¹ì • í•„ë“œì˜ ê°’ì„ ì–»ì„ ë•Œ ```get()```ì„ ì‚¬ìš©

```java
long year = pe.get(ChronoUnit.YEARS);	//int getYears()
long month = pe.get(ChronoUnit.MONTHS);	//int getMonths()
long day = pe.get(ChronoUnit.DAYS);	//int getDays()

long sec = du.get(ChronoUnit.SECONDS);	//long getSeconds()
int nano = du.get(ChronoUnit.NANOS);	//int getNano()
```

### between()ê³¼ until()
between()ê³¼ until()ì€ ê±°ì˜ ê°™ì€ ì¼ì„ í•˜ë‚˜, betweenì€ staticë©”ì„œë“œì´ê³  until()ì€ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ!
```java
//Period pe = Period.between(today, myBirthDay);
Period pe = today.until(myBirthDay);
long dday = today.until(myBirthDay, ChronoUnit.DAYS);
```

### ë‹¤ë¥¸ ë‹¨ìœ„ë¡œ ë³€í™˜ 
```to```ë¡œ ì‹œì‘í•˜ëŠ” ë©”ì„œë“œë“¤ì€ Periodì™€ Durationì„ ë‹¤ë¥¸ ë‹¨ìœ„ì˜ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ëŠ”ë° ì‚¬ìš©

![image](https://user-images.githubusercontent.com/97823928/162014117-c3749b7c-88e5-467d-8395-3a245a8079a2.png)

```java
LocalDate date1 = LocalDate.of(2015, 11, 28);
LocalDate date2 = LocalDate.of(2015, 11, 29);

long period = date2.toEpochDay() - date1.toEpochDay();
```
* ```toEpochDay()```ëŠ” Epoch Dayì¸ 1970-01-01ë¶€í„° ë‚ ì§œë¥¼ ì„¸ì–´ì„œ ë°˜í™˜
* ì´ ë©”ì„œë“œë¥¼ ì´ìš©í•˜ë©´ Periodë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ë‘ ë‚ ì§œê°„ì˜ ì¼ìˆ˜ë¥¼ í¸ë¦¬í•˜ê²Œ ê³„ì‚° ê°€ëŠ¥
* ë‹¨, ë‘ ë‚ ì§œ ëª¨ë‘ Epoch Day ì´í›„ì˜ ê²ƒì´ì–´ì•¼ í•¨


## íŒŒì‹±ê³¼ í¬ë§·
### ì¶œë ¥í˜•ì‹ ì§ì ‘ ì •ì˜ í•˜ê¸°

```java
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy/MM/dd");
```
* ofPattern()ìœ¼ë¡œ ì›í•˜ëŠ” ì¶œë ¥í˜•ì‹ì„ ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆìŒ

### ë¬¸ìì—´ì„ ë‚ ì§œì™€ ì‹œê°„ìœ¼ë¡œ íŒŒì‹±í•˜ê¸°

ë¬¸ìì—´ì„ ë‚ ì§œ ë˜ëŠ” ì‹œê°„ìœ¼ë¡œ ë³€í™˜í•˜ë ¤ë©´ staticë©”ì„œë“œ ```parse()```ë¥¼ ì‚¬ìš©í•˜ì

```java
//DateTimeFormatterì— ìƒìˆ˜ë¡œ ì •ì˜ëœ í˜•ì‹ì„ ì‚¬ìš©í•  ë•Œ
LocalDate date = LocalDate.parse("2016-01-02", DateTimeFormatter.ISO_LOCAL_DATE);

//ìì£¼ ì‚¬ìš©ë˜ëŠ” í˜•ì‹ì˜ ë¬¸ìì—´ì€ ISO_LOCAL_DATE ê°™ì€ í˜•ì‹í™” ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ íŒŒì‹±ì´ ê°€ëŠ¥
LocalDate newDate = LocalDate.parse("2001-01-01");
LocalTime newTime = LocalTime.parse("23:59:59");
LocalDateTime newDateTime = LocalDateTime.parse("2001-01-01T23:59:59");

//ofPattern()ì„ ì´ìš©í•œ íŒŒì‹±
DateTimeFormatter pattern = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
LocalDateTime endOfYear = LocalDateTime.parse("2015-12-31 23:59:59", pattern);
```








